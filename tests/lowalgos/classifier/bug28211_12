puts "========"
puts "OCC28211"
puts "========"
puts ""
#################################################
# Modeling Algorithms - Boolean fuse operation produces incorrect result
#################################################

# The face contains two edges
# connected by their two vertices.
# More over, two edges are connected by shared vertices
# from one side and (from other side) by vertices,
# which are common with seam:
#
#                  *************************
#                  *                       *
#            seam  *                       *  seam
#                  *  edge1         edge2  *
#                  * ********    ********* *
#                  V1        V2   V3       V4
#
#  V1 - vertex between edge1 and seam
#  V4 - vertex between edge2 and seam



restore [locate_data_file bug28211_halfclosed.brep] result

nbshapes result

point pp 0.50013085652508904 -1.4847823204826136

if { ![regexp {OUT} [ b2dclassifx result pp ] ] } {
    puts "Error : Wrong result of b2dclassifx algorithm"
} else {
    puts "OK : Good result of b2dclassifx algorithm"
}

if { ![regexp {OUT} [ b2dclassify result pp ] ] } {
    puts "Error : Wrong result of b2dclassify algorithm"
} else {
    puts "OK : Good result of b2dclassify algorithm"
}

v2d
pcurve result
2dfit

checkview -screenshot -2d -path ${imagedir}/${test_image}.png
