#puts "TODO OCC24694 ALL: Error: Length ="
puts "TODO OCC24694 ALL: Bad Result obtained by processing of two surfaces"

puts "========"
puts "OCC24694"
puts "========"
puts ""
############################################################################
#  Wrong processing of two surfaces (implicit and parametric) having tangential intersection: it is not found by intersector
############################################################################

cylinder cc 10
trimv tcc cc -20 20
sphere ss 10
convert s2 ss
clpoles s2
nbiso s2 10 10

smallview
donly tcc s2
fit

set CurveList [intersect i tcc s2]

if { [llength ${CurveList}] == 0 } {
    puts "Error : Bad Result obtained by processing of two surfaces having tangential intersection"
} else {
    set IntersectLength 0.
    foreach Curve ${CurveList} {
        set CurveLength [length ${Curve}]
        regexp "The length ${Curve} is +(\[-0-9.+eE\]+)" ${CurveLength} full Length
        set IntersectLength [expr ( ${IntersectLength} + ${Length} )]
    }
    checkreal Length ${IntersectLength} 62.8318530735371 0.1e-5 1.0e-5
}

checkview -screenshot -2d -path ${imagedir}/${test_image}.png
