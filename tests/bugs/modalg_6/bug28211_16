puts "========"
puts "OCC28211"
puts "========"
puts ""
#################################################
# Modeling Algorithms - Boolean fuse operation produces incorrect result
#################################################

# The face seems to be valid. But classified point is near to 
# the corner (in 2D-space). So, many classification rays are tangent to
# the existing ones or "goes" through the vertex.

binrestore [locate_data_file bug28211_goodface.brep] result

checkshape result

point pp 336.9868940694347 491.1361705159796

if { ![regexp {OUT} [ b2dclassifx result pp ] ] } {
    puts "Error : Wrong result of 2d classifier algorithm"
} else {
    puts "OK : Good result of 2d classifier algorithm"
}

if { ![regexp {OUT} [ b2dclassify result pp ] ] } {
    puts "Error : Wrong result of 2d classifier algorithm"
} else {
    puts "OK : Good result of 2d classifier algorithm"
}

v2d
pcurve result
2dfit

checkview -screenshot -2d -path ${imagedir}/${test_image}.png